(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{3235:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>N});var n=t(7876),o=t(4232),s=t(7232),i=t(9099),l=t(7931);let a=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-0"})(["padding:",";max-width:1200px;margin:0 auto;"],e=>{let{theme:r}=e;return r.spacing.xl}),c=s.Ay.header.withConfig({componentId:"sc-7afb4bf8-1"})(["margin-bottom:",";"],e=>{let{theme:r}=e;return r.spacing.xl}),d=s.Ay.h1.withConfig({componentId:"sc-7afb4bf8-2"})(["font-size:2rem;font-weight:700;color:",";margin-bottom:",";"],e=>{let{theme:r}=e;return r.colors.text.primary},e=>{let{theme:r}=e;return r.spacing.sm}),m=s.Ay.p.withConfig({componentId:"sc-7afb4bf8-3"})(["font-size:1rem;color:",";"],e=>{let{theme:r}=e;return r.colors.text.secondary}),u=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-4"})(["display:grid;grid-template-columns:repeat(1,1fr);gap:",";@media (min-width:768px){grid-template-columns:repeat(2,1fr);}@media (min-width:1024px){grid-template-columns:repeat(3,1fr);}"],e=>{let{theme:r}=e;return r.spacing.lg}),f=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-5"})(["background-color:",";border-radius:1rem;padding:",";box-shadow:",";"],e=>{let{theme:r}=e;return r.colors.background.secondary},e=>{let{theme:r}=e;return r.spacing.lg},e=>{let{theme:r}=e;return r.shadows.md}),p=s.Ay.h2.withConfig({componentId:"sc-7afb4bf8-6"})(["font-size:1.25rem;font-weight:600;margin-bottom:",";color:",";"],e=>{let{theme:r}=e;return r.spacing.md},e=>{let{theme:r}=e;return r.colors.text.primary}),g=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-7"})(["display:flex;flex-direction:column;gap:",";"],e=>{let{theme:r}=e;return r.spacing.xs}),b=s.Ay.span.withConfig({componentId:"sc-7afb4bf8-8"})(["font-size:2rem;font-weight:700;color:",";"],e=>{let{theme:r}=e;return r.colors.primary}),h=s.Ay.span.withConfig({componentId:"sc-7afb4bf8-9"})(["font-size:0.875rem;color:",";"],e=>{let{theme:r}=e;return r.colors.text.secondary}),x=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-10"})(["display:flex;flex-direction:column;gap:",";"],e=>{let{theme:r}=e;return r.spacing.sm}),y=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-11"})(["display:flex;justify-content:space-between;align-items:center;padding:",";background-color:",";border-radius:0.5rem;"],e=>{let{theme:r}=e;return r.spacing.sm},e=>{let{theme:r}=e;return r.colors.background.primary}),w=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-12"})(["display:flex;flex-direction:column;"]),I=s.Ay.span.withConfig({componentId:"sc-7afb4bf8-13"})(["font-weight:500;color:",";"],e=>{let{theme:r}=e;return r.colors.text.primary}),v=s.Ay.span.withConfig({componentId:"sc-7afb4bf8-14"})(["font-size:0.875rem;color:",";"],e=>{let{theme:r}=e;return r.colors.text.secondary}),C=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-15"})(["width:0.75rem;height:0.75rem;border-radius:50%;background-color:",";"],e=>{let{theme:r,$status:t}=e;return"up"===t?r.colors.success:r.colors.error}),j=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-16"})(["display:flex;justify-content:space-between;align-items:center;padding:",";background-color:",";border-radius:0.5rem;"],e=>{let{theme:r}=e;return r.spacing.sm},e=>{let{theme:r}=e;return r.colors.background.primary}),A=s.Ay.span.withConfig({componentId:"sc-7afb4bf8-17"})(["font-weight:500;"]),k=s.Ay.span.withConfig({componentId:"sc-7afb4bf8-18"})(["font-size:0.875rem;color:",";"],e=>{let{theme:r}=e;return r.colors.text.secondary}),z=s.Ay.div.withConfig({componentId:"sc-7afb4bf8-19"})(["display:flex;align-items:center;gap:",";"],e=>{let{theme:r}=e;return r.spacing.md}),S=s.Ay.button.withConfig({componentId:"sc-7afb4bf8-20"})(["padding:"," ",";background:",";color:white;border:none;border-radius:0.5rem;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;&:hover{background:",";opacity:0.9;transform:translateY(-1px);}&:active{transform:translateY(0);}"],e=>{let{theme:r}=e;return r.spacing.sm},e=>{let{theme:r}=e;return r.spacing.md},e=>{let{theme:r}=e;return r.colors.error},e=>{let{theme:r}=e;return r.colors.error});s.Ay.form.withConfig({componentId:"sc-7afb4bf8-21"})(["display:flex;flex-direction:column;gap:",";"],e=>{let{theme:r}=e;return r.spacing.md}),s.Ay.div.withConfig({componentId:"sc-7afb4bf8-22"})(["display:flex;flex-direction:column;gap:",";"],e=>{let{theme:r}=e;return r.spacing.xs}),s.Ay.label.withConfig({componentId:"sc-7afb4bf8-23"})(["font-size:0.875rem;font-weight:500;color:",";"],e=>{let{theme:r}=e;return r.colors.text.primary}),s.Ay.input.withConfig({componentId:"sc-7afb4bf8-24"})(["padding:",";border:1.5px solid ",";border-radius:0.5rem;font-size:0.875rem;background:",";color:",";transition:all 0.2s ease;&:focus{outline:none;border-color:",";box-shadow:0 0 0 3px ","15;}"],e=>{let{theme:r}=e;return r.spacing.sm},e=>{let{theme:r}=e;return r.colors.border},e=>{let{theme:r}=e;return r.colors.background.primary},e=>{let{theme:r}=e;return r.colors.text.primary},e=>{let{theme:r}=e;return r.colors.primary},e=>{let{theme:r}=e;return r.colors.primary}),s.Ay.button.withConfig({componentId:"sc-7afb4bf8-25"})(["padding:"," ",";background:",";color:white;border:none;border-radius:0.5rem;font-size:0.875rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;margin-top:",";&:hover{background:",";transform:translateY(-1px);}&:active{transform:translateY(0);}&:disabled{background:",";cursor:not-allowed;transform:none;}"],e=>{let{theme:r}=e;return r.spacing.sm},e=>{let{theme:r}=e;return r.spacing.md},e=>{let{theme:r}=e;return r.colors.primary},e=>{let{theme:r}=e;return r.spacing.sm},e=>{let{theme:r}=e;return r.colors.primaryDark},e=>{let{theme:r}=e;return r.colors.disabled}),s.Ay.span.withConfig({componentId:"sc-7afb4bf8-26"})(["color:",";font-size:0.875rem;"],e=>{let{theme:r}=e;return r.colors.error}),s.Ay.span.withConfig({componentId:"sc-7afb4bf8-27"})(["color:",";font-size:0.875rem;"],e=>{let{theme:r}=e;return r.colors.success}),s.Ay.div.withConfig({componentId:"sc-7afb4bf8-28"})(["margin-top:",";"],e=>{let{theme:r}=e;return r.spacing.xs}),s.Ay.div.withConfig({componentId:"sc-7afb4bf8-29"})(["height:4px;background:",";width:","%;border-radius:2px;transition:all 0.3s ease;"],e=>{let{theme:r,$strength:t}=e;return 0===t||1===t?r.colors.error:2===t?"#FFA500":r.colors.success},e=>{let{$strength:r}=e;return 25*r}),s.Ay.span.withConfig({componentId:"sc-7afb4bf8-30"})(["font-size:0.75rem;color:",";margin-top:",";display:block;"],e=>{let{theme:r,$strength:t}=e;return 0===t||1===t?r.colors.error:2===t?"#FFA500":r.colors.success},e=>{let{theme:r}=e;return r.spacing.xs}),s.Ay.ul.withConfig({componentId:"sc-7afb4bf8-31"})(["margin-top:",";padding-left:0;list-style:none;"],e=>{let{theme:r}=e;return r.spacing.sm}),s.Ay.li.withConfig({componentId:"sc-7afb4bf8-32"})(["font-size:0.75rem;color:",";display:flex;align-items:center;gap:",";margin-bottom:",";&::before{content:'","';color:",";}"],e=>{let{theme:r,$met:t}=e;return t?r.colors.success:r.colors.text.secondary},e=>{let{theme:r}=e;return r.spacing.xs},e=>{let{theme:r}=e;return r.spacing.xs},e=>{let{$met:r}=e;return r?"✓":"✗"},e=>{let{theme:r,$met:t}=e;return t?r.colors.success:r.colors.error});let N=()=>{let e=(0,i.useRouter)(),[r,t]=(0,o.useState)(null),[s,N]=(0,o.useState)(null),[U,_]=(0,o.useState)(!1),[E,O]=(0,o.useState)(null),[R,J]=(0,o.useState)(!0);(0,o.useEffect)(()=>{(async()=>{try{var r;let{data:{user:n}}=await l.N.auth.getUser();if(!n){e.push("/admin");return}t(n);let{data:o,error:s}=await l.N.from("user_roles").select("*").eq("user_id",n.id).single();if(s){console.error("Error fetching user role:",s),O({error:s,userId:n.id,email:n.email});return}N((null==o?void 0:o.role)||"user"),_((null==o?void 0:o.role)==="admin"&&(null==o?void 0:null===(r=o.permissions)||void 0===r?void 0:r.includes("*"))),O({userId:n.id,email:n.email,role:null==o?void 0:o.role,permissions:null==o?void 0:o.permissions})}catch(e){console.error("Error checking permissions:",e),O({error:e})}finally{J(!1)}})()},[e]);let L=async()=>{try{await l.N.auth.signOut(),e.push("/admin")}catch(e){console.error("Error during logout:",e)}},[D,F]=(0,o.useState)({totalUsers:0,activeUsers:0,conversionRate:0}),[M,T]=(0,o.useState)([]),[Y,V]=(0,o.useState)([{name:"API",status:"up",lastChecked:new Date},{name:"Database",status:"up",lastChecked:new Date},{name:"Auth Service",status:"up",lastChecked:new Date}]);return((0,o.useEffect)(()=>{F({totalUsers:1250,activeUsers:850,conversionRate:68}),T([{email:"user1@example.com",role:"admin"},{email:"user2@example.com",role:"user"},{email:"user3@example.com",role:"premium"}])},[]),r)?(0,n.jsxs)(a,{children:[(0,n.jsx)(c,{children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d,{children:"Admin Dashboard"}),(0,n.jsxs)(m,{children:["Welcome back, ",r.email]})]}),(0,n.jsxs)(z,{children:[E&&(0,n.jsxs)("div",{style:{marginRight:"1rem",fontSize:"0.8rem",color:"#666"},children:[(0,n.jsxs)("div",{children:["User: ",E.email]}),(0,n.jsxs)("div",{children:["Role: ",E.role]}),(0,n.jsxs)("div",{children:["Permissions: ",JSON.stringify(E.permissions)]})]}),(0,n.jsx)(S,{onClick:L,children:"Logout"})]})]})}),(0,n.jsxs)(u,{children:[(0,n.jsxs)(f,{children:[(0,n.jsx)(p,{children:"Key Metrics"}),(0,n.jsxs)(u,{children:[(0,n.jsxs)(g,{children:[(0,n.jsx)(b,{children:D.totalUsers}),(0,n.jsx)(h,{children:"Total Users"})]}),(0,n.jsxs)(g,{children:[(0,n.jsx)(b,{children:D.activeUsers}),(0,n.jsx)(h,{children:"Active Users"})]}),(0,n.jsxs)(g,{children:[(0,n.jsxs)(b,{children:[D.conversionRate,"%"]}),(0,n.jsx)(h,{children:"Conversion Rate"})]})]})]}),(0,n.jsxs)(f,{children:[(0,n.jsx)(p,{children:"Recent Users"}),(0,n.jsx)(x,{children:M.map((e,r)=>(0,n.jsx)(y,{children:(0,n.jsxs)(w,{children:[(0,n.jsx)(I,{children:e.email}),(0,n.jsx)(v,{children:e.role})]})},r))})]}),(0,n.jsxs)(f,{children:[(0,n.jsx)(p,{children:"System Status"}),(0,n.jsx)(x,{children:Y.map((e,r)=>(0,n.jsxs)(j,{children:[(0,n.jsx)(A,{children:e.name}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,n.jsx)(C,{$status:e.status}),(0,n.jsxs)(k,{children:["Last checked: ",e.lastChecked.toLocaleTimeString()]})]})]},r))})]})]})]}):null}},7877:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return t(3235)}])},7931:(e,r,t)=>{"use strict";t.d(r,{N:()=>i});var n=t(6879);let o="https://poceyfalttikstlruoet.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBvY2V5ZmFsdHRpa3N0bHJ1b2V0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzODMzNTAsImV4cCI6MjA1OTk1OTM1MH0.yEz143laLLL9mmLkiw1n0Ou9ALAaf95naxv3H-bmV3I";if(!o||!s)throw Error("Missing Supabase environment variables");let i=(0,n.UU)(o,s)}},e=>{var r=r=>e(e.s=r);e.O(0,[879,636,593,792],()=>r(7877)),_N_E=e.O()}]);