(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{1565:(e,r,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return o(2272)}])},2272:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>C});var t=o(7876),n=o(4232),i=o(9099),s=o(7232),a=o(7931);let d=s.Ay.div.withConfig({componentId:"sc-30d57a9f-0"})(["max-width:420px;width:100%;height:500px;padding:2rem;background:white;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.06);animation:fadeIn 0.3s ease-out;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;@keyframes fadeIn{from{opacity:0;transform:translate(-50%,-40%);}to{opacity:1;transform:translate(-50%,-50%);}}"]);s.Ay.div.withConfig({componentId:"sc-30d57a9f-1"})(["text-align:center;margin-bottom:2.5rem;"]);let l=s.Ay.h1.withConfig({componentId:"sc-30d57a9f-2"})(["font-size:1.75rem;font-weight:700;color:",";text-align:center;margin:0;"],e=>e.theme.colors.text.primary),c=s.Ay.p.withConfig({componentId:"sc-30d57a9f-3"})(["font-size:0.875rem;color:",";text-align:center;margin-bottom:2rem;line-height:1.5;"],e=>e.theme.colors.text.secondary),m=s.Ay.form.withConfig({componentId:"sc-30d57a9f-4"})(["display:flex;flex-direction:column;height:100%;justify-content:space-between;"]),h=s.Ay.div.withConfig({componentId:"sc-30d57a9f-5"})(["flex:1;display:flex;flex-direction:column;justify-content:space-between;min-height:0;"]),p=s.Ay.div.withConfig({componentId:"sc-30d57a9f-6"})(["flex:1;overflow-y:auto;padding-right:0.5rem;margin-bottom:0.5rem;max-height:calc(100% - 100px);&::-webkit-scrollbar{width:4px;}&::-webkit-scrollbar-track{background:transparent;}&::-webkit-scrollbar-thumb{background:",";border-radius:2px;}"],e=>e.theme.colors.border),u=s.Ay.div.withConfig({componentId:"sc-30d57a9f-7"})(["margin-top:auto;"]),f=s.Ay.div.withConfig({componentId:"sc-30d57a9f-8"})(["display:flex;flex-direction:column;gap:0.5rem;margin-bottom:0.5rem;"]),g=s.Ay.label.withConfig({componentId:"sc-30d57a9f-9"})(["font-size:0.875rem;font-weight:600;color:",";"],e=>e.theme.colors.text.primary),x=s.Ay.input.withConfig({componentId:"sc-30d57a9f-10"})(["padding:0.875rem 1rem;border:1.5px solid ",";border-radius:8px;font-size:0.875rem;background:white;color:",";transition:all 0.2s ease;&:focus{outline:none;border-color:",";box-shadow:0 0 0 3px ","15;}&::placeholder{color:",";}"],e=>e.theme.colors.border,e=>e.theme.colors.text.primary,e=>e.theme.colors.primary,e=>e.theme.colors.primary,e=>e.theme.colors.text.secondary),y=s.Ay.div.withConfig({componentId:"sc-30d57a9f-11"})(["display:flex;gap:1rem;margin-bottom:1rem;"]),b=s.Ay.button.withConfig({componentId:"sc-30d57a9f-12"})(["padding:0.875rem;background:",";color:white;border:none;border-radius:8px;font-size:0.875rem;font-weight:600;cursor:pointer;transition:all 0.2s ease;flex:1;&:hover{background:",";}&:active{transform:scale(0.98);}&:disabled{background:",";cursor:not-allowed;}"],e=>e.theme.colors.primary,e=>e.theme.colors.primaryDark,e=>e.theme.colors.disabled),w=(0,s.Ay)(b).withConfig({componentId:"sc-30d57a9f-13"})(["background:transparent;border:1.5px solid ",";color:",";margin-top:0;&:hover{background:",";border-color:",";}"],e=>e.theme.colors.border,e=>e.theme.colors.text.primary,e=>e.theme.colors.background.secondary,e=>e.theme.colors.text.primary),I=s.Ay.button.withConfig({componentId:"sc-30d57a9f-14"})(["background:none;border:none;color:",";font-size:0.875rem;font-weight:500;text-align:center;cursor:pointer;padding:0.5rem 0;width:100%;transition:color 0.2s ease;margin-top:0.5rem;&:hover{color:",";text-decoration:underline;}"],e=>e.theme.colors.primary,e=>e.theme.colors.primaryDark);s.Ay.div.withConfig({componentId:"sc-30d57a9f-15"})(["padding:0.75rem;border-radius:8px;font-size:0.75rem;display:flex;align-items:center;gap:0.5rem;margin-top:0.5rem;"]);let j=s.Ay.div.withConfig({componentId:"sc-30d57a9f-16"})(["color:",';font-size:0.75rem;padding:0.25rem 0;display:flex;align-items:center;gap:0.25rem;line-height:1.2;margin-top:-0.25rem;&::before{content:"✕";font-size:0.75rem;font-weight:bold;}'],e=>e.theme.colors.error),k=s.Ay.div.withConfig({componentId:"sc-30d57a9f-17"})(["color:",';font-size:0.75rem;padding:0.25rem 0;display:flex;align-items:center;gap:0.25rem;line-height:1.2;margin-top:-0.25rem;&::before{content:"✓";font-size:0.75rem;font-weight:bold;}'],e=>e.theme.colors.success);function v(e){let{onSuccess:r}=e,[o,s]=(0,n.useState)(""),[v,C]=(0,n.useState)(""),[A,S]=(0,n.useState)(null),[z,E]=(0,n.useState)(null),[N,_]=(0,n.useState)(!1),[F,O]=(0,n.useState)(!1),P=(0,i.useRouter)(),J=async e=>{e.preventDefault(),S(null),E(null),_(!0);try{let{error:e}=await a.N.auth.signInWithPassword({email:o,password:v});if(e)throw e;E("Successfully signed in!"),null==r||r(),P.push("/admin/dashboard")}catch(e){S(e instanceof Error?e.message:"An error occurred during sign in")}finally{_(!1)}},L=async e=>{e.preventDefault(),S(null),E(null),_(!0);try{let{error:e}=await a.N.auth.resetPasswordForEmail(o,{redirectTo:"".concat(window.location.origin,"/admin")});if(e)throw e;E("Password reset email sent! Please check your inbox."),s(""),C(""),O(!1)}catch(e){S(e instanceof Error?e.message:"An error occurred while sending reset email")}finally{_(!1)}};return(0,t.jsx)(d,{children:F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l,{children:"Reset Password"}),(0,t.jsx)(c,{children:"Enter your email address and we'll send you a link to reset your password."}),(0,t.jsx)(m,{onSubmit:L,children:(0,t.jsxs)(h,{children:[(0,t.jsxs)(p,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(g,{htmlFor:"reset-email",children:"Email Address"}),(0,t.jsx)(x,{id:"reset-email",type:"email",placeholder:"you@company.com",value:o,onChange:e=>s(e.target.value),required:!0})]}),z&&(0,t.jsx)(k,{children:z})]}),(0,t.jsx)(u,{children:(0,t.jsxs)(y,{children:[(0,t.jsx)(w,{type:"button",onClick:()=>O(!1),children:"Back to Sign In"}),(0,t.jsx)(b,{type:"submit",disabled:N,children:N?"Sending Reset Link...":"Send Reset Link"})]})})]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l,{children:"Admin"}),(0,t.jsx)(c,{children:"Sign in to access the ScaleMate admin dashboard"}),(0,t.jsx)(m,{onSubmit:J,children:(0,t.jsxs)(h,{children:[(0,t.jsxs)(p,{children:[(0,t.jsxs)(f,{children:[(0,t.jsx)(g,{htmlFor:"email",children:"Email Address"}),(0,t.jsx)(x,{id:"email",type:"email",placeholder:"you@company.com",value:o,onChange:e=>s(e.target.value),required:!0})]}),(0,t.jsxs)(f,{children:[(0,t.jsx)(g,{htmlFor:"password",children:"Password"}),(0,t.jsx)(x,{id:"password",type:"password",placeholder:"Enter your password",value:v,onChange:e=>C(e.target.value),required:!0})]}),A&&(0,t.jsx)(j,{children:A}),z&&(0,t.jsx)(k,{children:z})]}),(0,t.jsxs)(u,{children:[(0,t.jsx)(y,{children:(0,t.jsx)(b,{type:"submit",disabled:N,children:N?"Signing in...":"Sign In"})}),(0,t.jsx)(I,{type:"button",onClick:()=>O(!0),children:"Forgot your password?"})]})]})})]})})}let C=()=>((0,i.useRouter)(),(0,s.DP)(),(0,t.jsx)(v,{}))},7931:(e,r,o)=>{"use strict";o.d(r,{N:()=>s});var t=o(6879);let n="https://poceyfalttikstlruoet.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBvY2V5ZmFsdHRpa3N0bHJ1b2V0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzODMzNTAsImV4cCI6MjA1OTk1OTM1MH0.yEz143laLLL9mmLkiw1n0Ou9ALAaf95naxv3H-bmV3I";if(!n||!i)throw Error("Missing Supabase environment variables");let s=(0,t.UU)(n,i)}},e=>{var r=r=>e(e.s=r);e.O(0,[879,636,593,792],()=>r(1565)),_N_E=e.O()}]);